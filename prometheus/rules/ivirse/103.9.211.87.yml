groups:
- name: Container


  rules:
  - alert: Container Status project-nestjs-gamefi-service-production
    expr: container_state_status{status="exited",name=~"project-nestjs-gamefi-service-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-nestjs-gamefi-service-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT 


  - alert: Container Status  project-node-js-getblockinfo-isofh-production
    expr: container_state_status{status="exited",name=~" project-node-js-getblockinfo-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name:  project-node-js-getblockinfo-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT 


  - alert: Container Status project-nestjs-gateway-service-production
    expr: container_state_status{status="exited",name=~"project-nestjs-gateway-service-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-nestjs-gateway-service-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT 

  - alert: Container Status project-nestjs-user-service-production
    expr: container_state_status{status="exited",name=~"project-nestjs-user-service-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-nestjs-user-service-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT 

  - alert: Container Status project-react-js-wallet-ivirse-isofh-production
    expr: container_state_status{status="exited",name=~"project-react-js-wallet-ivirse-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-react-js-wallet-ivirse-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT 

  - alert: Container Status nginx-app
    expr: container_state_status{status="exited",name=~"nginx-app"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: nginx-app
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT 

  - alert: Container Status project-nestjs-community-service-production
    expr: container_state_status{status="exited",name=~"project-nestjs-community-service-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-nestjs-community-service-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT 
       
  - alert: Container Status kafka-isofh
    expr: container_state_status{status="exited",name=~"kafka-isofh"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: kafka-isofh
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT 

  - alert: Container Status zookeeper-isofh
    expr: container_state_status{status="exited",name=~"zookeeper-isofh"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: zookeeper-isofh
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT 

  - alert: Container Status kafka-ui-isofh
    expr: container_state_status{status="exited",name=~"kafka-ui-isofh"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: kafka-ui-isofh
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT 

  - alert: Container Status ivirse-instructions-bot-fe-isofh-production
    expr: container_state_status{status="exited",name=~"ivirse-instructions-bot-fe-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: ivirse-instructions-bot-fe-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT
  
  - alert: Container Status project-nestjs-datahub-service-production
    expr: container_state_status{status="exited",name=~"project-nestjs-datahub-service-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-nestjs-datahub-service-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT
  
  - alert: Container Status project-nestjs-notification-service-production
    expr: container_state_status{status="exited",name=~"project-nestjs-notification-service-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-nestjs-notification-service-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT

  - alert: Container Status project-nestjs-file-service-production
    expr: container_state_status{status="exited",name=~"project-nestjs-file-service-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-nestjs-file-service-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT

  - alert: Container Status project-node-js-scan-reserves-isofh-production
    expr: container_state_status{status="exited",name=~"project-node-js-scan-reserves-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-node-js-scan-reserves-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT
  
  - alert: Container Status redis
    expr: container_state_status{status="exited",name=~"redis"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: redis
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT
  
  - alert: Container Status project-next-ts-ivirse-website-isofh-production
    expr: container_state_status{status="exited",name=~"project-next-ts-ivirse-website-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-next-ts-ivirse-website-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT
  
  - alert: Container Status project-react-js-chatbot-doc-isofh-production
    expr: container_state_status{status="exited",name=~"project-react-js-chatbot-doc-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-react-js-chatbot-doc-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT

  - alert: Container Status project-react-js-ivirse-isofh-production
    expr: container_state_status{status="exited",name=~"project-react-js-ivirse-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-react-js-ivirse-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT

  - alert: Container Status project-nodejs-ivirse-be-isofh-production
    expr: container_state_status{status="exited",name=~"project-nodejs-ivirse-be-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-nodejs-ivirse-be-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT

  - alert: Container Status project-node-js-paymentactiontrigger-isofh-production
    expr: container_state_status{status="exited",name=~"project-node-js-paymentactiontrigger-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-node-js-paymentactiontrigger-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT

  - alert: Container Status project-node-ts-payment-gateway-isofh-production
    expr: container_state_status{status="exited",name=~"project-node-ts-payment-gateway-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-node-ts-payment-gateway-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT

  - alert: Container Status project-node-js-gettxlogs-isofh-production
    expr: container_state_status{status="exited",name=~"project-node-js-gettxlogs-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-node-js-gettxlogs-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT


  - alert: Container Status project-node-js-expiredactionschedule-isofh-production
    expr: container_state_status{status="exited",name=~"project-node-js-expiredactionschedule-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-node-js-expiredactionschedule-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT


  - alert: Container Status project-node-js-exchange-rate-isofh-production
    expr: container_state_status{status="exited",name=~"project-node-js-exchange-rate-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-node-js-exchange-rate-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT


  - alert: Container Status project-reactjs-dex-ivirse-isofh-production
    expr: container_state_status{status="exited",name=~"project-reactjs-dex-ivirse-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-reactjs-dex-ivirse-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT


  - alert: Container Status project-react-js-payment-gateway-isofh-production
    expr: container_state_status{status="exited",name=~"project-react-js-payment-gateway-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: project-react-js-payment-gateway-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT
  
  - alert: Container Status ivirse-isofh-production
    expr: container_state_status{status="exited",name=~"ivirse-isofh-production"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: ivirse-isofh-production
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT

  - alert: Container Status mongo
    expr: container_state_status{status="exited",name=~"mongo"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: mongo
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT

  - alert: Container Status postgres
    expr: container_state_status{status="exited",name=~"postgres"} == 1
    for: 1s
    labels:
      severity: khẩn cấp
      category: container-status
      container_name: postgres
      app_type: IVIRSE
    annotations:
      summary: Container exited
      description: |

       CONTAINER NAME:-  {{ $labels.name }}

       CONTAINER BỊ TẮT

################################################  
################## RAM #########################  
################################################  

  - alert: Container Memory project-nestjs-gateway-service-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-nestjs-gateway-service-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-nestjs-gateway-service-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-nestjs-gateway-service-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:
        
        **project-nestjs-gateway-service-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%


  - alert: Container Memory project-react-js-wallet-ivirse-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-react-js-wallet-ivirse-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-react-js-wallet-ivirse-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-react-js-wallet-ivirse-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-react-js-wallet-ivirse-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-nestjs-gamefi-service-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-nestjs-gamefi-service-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-nestjs-gamefi-service-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-nestjs-gamefi-service-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-nestjs-gamefi-service-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-node-ts-payment-gateway-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-node-ts-payment-gateway-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-node-ts-payment-gateway-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-node-ts-payment-gateway-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-node-ts-payment-gateway-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory  project-node-js-getblockinfo-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-node-js-getblockinfo-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-node-js-getblockinfo-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name:  project-node-js-getblockinfo-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        ** project-node-js-getblockinfo-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory nginx-app
    expr: (container_memory_working_set_bytes{job='ivirse', name='nginx-app'}) / (container_spec_memory_limit_bytes{job="ivirse", name='nginx-app', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: nginx-app
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **nginx-app**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%


  - alert: Container Memory project-nestjs-community-service-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-nestjs-community-service-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-nestjs-community-service-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-nestjs-community-service-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-nestjs-community-service-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory kafka-isofh
    expr: (container_memory_working_set_bytes{job='ivirse', name='kafka-isofh'}) / (container_spec_memory_limit_bytes{job="ivirse", name='kafka-isofh', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: kafka-isofh
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **kafka-isofh**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory zookeeper-isofh
    expr: (container_memory_working_set_bytes{job='ivirse', name='zookeeper-isofh'}) / (container_spec_memory_limit_bytes{job="ivirse", name='zookeeper-isofh', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: zookeeper-isofh
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **zookeeper-isofh**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory kafka-ui-isofh
    expr: (container_memory_working_set_bytes{job='ivirse', name='kafka-ui-isofh'}) / (container_spec_memory_limit_bytes{job="ivirse", name='kafka-ui-isofh', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: kafka-ui-isofh
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **kafka-ui-isofh**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-nestjs-user-service-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-nestjs-user-service-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-nestjs-user-service-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-nestjs-user-service-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-nestjs-user-service-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%
  
  - alert: Container Memory project-node-js-gettxlogs-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-node-js-gettxlogs-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-node-js-gettxlogs-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-node-js-gettxlogs-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-node-js-gettxlogs-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory ivirse-instructions-bot-fe-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='ivirse-instructions-bot-fe-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='ivirse-instructions-bot-fe-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: ivirse-instructions-bot-fe-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **ivirse-instructions-bot-fe-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-nestjs-datahub-service-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-nestjs-datahub-service-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-nestjs-datahub-service-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-nestjs-datahub-service-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-nestjs-datahub-service-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-nestjs-notification-service-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-nestjs-notification-service-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-nestjs-notification-service-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-nestjs-notification-service-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-nestjs-notification-service-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-nestjs-file-service-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-nestjs-file-service-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-nestjs-file-service-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-nestjs-file-service-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-nestjs-file-service-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-node-js-scan-reserves-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-node-js-scan-reserves-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-node-js-scan-reserves-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-node-js-scan-reserves-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-node-js-scan-reserves-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%
  
  - alert: Container Memory project-next-ts-ivirse-website-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-next-ts-ivirse-website-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-next-ts-ivirse-website-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-next-ts-ivirse-website-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-next-ts-ivirse-website-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%
  
  - alert: Container Memory project-react-js-chatbot-doc-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-react-js-chatbot-doc-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-react-js-chatbot-doc-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-react-js-chatbot-doc-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-react-js-chatbot-doc-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-react-js-ivirse-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-react-js-ivirse-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-react-js-ivirse-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-react-js-ivirse-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-react-js-ivirse-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-nodejs-ivirse-be-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-nodejs-ivirse-be-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-nodejs-ivirse-be-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-nodejs-ivirse-be-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-nodejs-ivirse-be-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-node-js-paymentactiontrigger-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-node-js-paymentactiontrigger-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-node-js-paymentactiontrigger-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-node-js-paymentactiontrigger-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-node-js-paymentactiontrigger-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-node-js-expiredactionschedule-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-node-js-expiredactionschedule-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-node-js-expiredactionschedule-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-node-js-expiredactionschedule-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-node-js-expiredactionschedule-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory project-node-js-exchange-rate-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-node-js-exchange-rate-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-node-js-exchange-rate-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-node-js-exchange-rate-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-node-js-exchange-rate-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%
  
  - alert: Container Memory project-reactjs-dex-ivirse-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-reactjs-dex-ivirse-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-reactjs-dex-ivirse-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-reactjs-dex-ivirse-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-reactjs-dex-ivirse-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%
  
  - alert: Container Memory project-react-js-payment-gateway-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='project-react-js-payment-gateway-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='project-react-js-payment-gateway-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: project-react-js-payment-gateway-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **project-react-js-payment-gateway-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory ivirse-isofh-production
    expr: (container_memory_working_set_bytes{job='ivirse', name='ivirse-isofh-production'}) / (container_spec_memory_limit_bytes{job="ivirse", name='ivirse-isofh-production', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: ivirse-isofh-production
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **ivirse-isofh-production**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory mongo
    expr: (container_memory_working_set_bytes{job='ivirse', name='mongo'}) / (container_spec_memory_limit_bytes{job="ivirse", name='mongo', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: mongo
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **mongo**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

  - alert: Container Memory postgres
    expr: (container_memory_working_set_bytes{job='ivirse', name='postgres'}) / (container_spec_memory_limit_bytes{job="ivirse", name='postgres', instance='103.9.211.87:19093'}) * 100 > 90
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-memory    
      container_name: postgres
    annotations:
      summary: "RAM container quá 90%"
      description: |
      
        CONTAINER NAME:  
        
        **postgres**

        Thông tin cụ thể: 

          RAM USED: {{ printf "%.2f" $value}}% / 100%

################################################  
################## CPU #########################  
################################################  

  - alert: Container CPU project-nestjs-gamefi-service-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='ivirse',name='project-nestjs-gamefi-service-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-nestjs-gamefi-service-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%

  - alert: Container CPU project-node-js-getblockinfo-isofh-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-node-js-getblockinfo-isofh-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-node-js-getblockinfo-isofh-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU project-nestjs-gateway-service-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-nestjs-gateway-service-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-nestjs-gateway-service-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU project-nestjs-user-service-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-nestjs-user-service-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-nestjs-user-service-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU project-react-js-wallet-ivirse-isofh-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-react-js-wallet-ivirse-isofh-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-react-js-wallet-ivirse-isofh-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU project-nestjs-community-service-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-nestjs-community-service-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-nestjs-community-service-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU ivirse-instructions-bot-fe-isofh-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='ivirse-instructions-bot-fe-isofh-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: ivirse-instructions-bot-fe-isofh-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU project-nestjs-datahub-service-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-nestjs-datahub-service-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-nestjs-datahub-service-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%

  - alert: Container CPU project-nestjs-datahub-service-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-nestjs-datahub-service-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-nestjs-datahub-service-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%

  - alert: Container CPU project-nestjs-notification-service-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-nestjs-notification-service-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-nestjs-notification-service-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU project-nestjs-file-service-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-nestjs-file-service-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-nestjs-file-service-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU redis
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='redis',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: redis
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%

  - alert: Container CPU project-node-js-scan-reserves-isofh-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-node-js-scan-reserves-isofh-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-node-js-scan-reserves-isofh-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU project-next-ts-ivirse-website-isofh-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-next-ts-ivirse-website-isofh-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-next-ts-ivirse-website-isofh-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%

  - alert: Container CPU project-react-js-chatbot-doc-isofh-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-react-js-chatbot-doc-isofh-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-react-js-chatbot-doc-isofh-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU project-react-js-ivirse-isofh-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-react-js-ivirse-isofh-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-react-js-ivirse-isofh-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU mongo
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='mongo',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: mongo
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU postgres
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='postgres',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: postgres
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU project-nodejs-ivirse-be-isofh-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-nodejs-ivirse-be-isofh-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-nodejs-ivirse-be-isofh-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%
  
  - alert: Container CPU project-node-js-paymentactiontrigger-isofh-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-node-js-paymentactiontrigger-isofh-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-node-js-paymentactiontrigger-isofh-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%

  - alert: Container CPU project-node-ts-payment-gateway-isofh-production
    expr: (sum(rate(container_cpu_usage_seconds_total{name!="",job='dhy',name='project-node-ts-payment-gateway-isofh-production',instance='103.9.211.87:19093' }[1m])) BY (instance, name) * 100) > 500
    for: 60s
    labels:
      severity: khẩn cấp
      app_type: IVIRSE
      category: container-cpu    
      container_name: project-node-ts-payment-gateway-isofh-production
    annotations:
      summary: "CPU container quá 95%"
      description: |
      
        CONTAINER NAME: {{ $labels.name }}

        Thông tin cụ thể: 

          CPU USED : {{ printf "%.2f" $value}}%